{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '44454765-ee57bdc991fe1fe6c04d7dec5';\n\nexport async function fetchImages(query) {\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n  try {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error('Failed to fetch images');\n    }\n    const data = await response.json();\n    return data.hits.map(image => ({\n      webformatURL: image.webformatURL,\n      largeImageURL: image.largeImageURL,\n      tags: image.tags,\n      likes: image.likes,\n      views: image.views,\n      comments: image.comments,\n      downloads: image.downloads,\n    }));\n  } catch (error) {\n    throw error;\n  }\n}\n","export function renderImages(container, images) {\n  const fragment = document.createDocumentFragment();\n  images.forEach(image => {\n    const figure = document.createElement('figure');\n    const link = document.createElement('a');\n    link.href = image.largeImageURL;\n    const img = document.createElement('img');\n    img.src = image.webformatURL;\n    img.alt = image.tags;\n    link.appendChild(img);\n    figure.appendChild(link);\n    fragment.appendChild(figure);\n  });\n  container.appendChild(fragment);\n}\n\nexport function clearGallery(container) {\n  container.innerHTML = '';\n}\n","// main.js\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchImages } from './js/pixabay-api.js';\nimport { clearGallery } from './js/render-functions.js';\n\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.getElementById('search-input');\nconst gallery = document.getElementById('gallery');\nconst loader = document.createElement('div');\nloader.classList.add('loader');\n\nconst lightbox = new SimpleLightbox('.gallery a');\n\nsearchForm.addEventListener('submit', async event => {\n  event.preventDefault();\n  const searchTerm = searchInput.value.trim();\n  if (!searchTerm) {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search term!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  clearGallery(gallery);\n  gallery.appendChild(loader);\n\n  try {\n    const data = await fetchImages(searchTerm);\n    if (data.length === 0) {\n      iziToast.info({\n        title: 'Info',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n    } else {\n      renderImages(data);\n    }\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to fetch images. Please try again later.',\n      position: 'topRight',\n    });\n  } finally {\n    gallery.removeChild(loader);\n    lightbox.refresh();\n  }\n});\n\nfunction renderImages(images) {\n  images.forEach(image => {\n    const item = document.createElement('div');\n    item.classList.add('gallery-item');\n\n    const link = document.createElement('a');\n    link.href = image.largeImageURL;\n    link.setAttribute('data-lightbox', 'gallery');\n\n    const img = document.createElement('img');\n    img.src = image.webformatURL;\n    img.alt = image.tags;\n\n    link.appendChild(img);\n    item.appendChild(link);\n    gallery.appendChild(item);\n  });\n}\n"],"names":["API_KEY","fetchImages","query","url","response","image","error","clearGallery","container","searchForm","searchInput","gallery","loader","lightbox","SimpleLightbox","event","searchTerm","iziToast","data","renderImages","images","item","link","img"],"mappings":"6vBAAA,MAAMA,EAAU,qCAET,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAM,gCAAgCH,CAAO,MAAM,mBACvDE,CACD,CAAA,2DACD,GAAI,CACF,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAG1C,OADa,MAAMA,EAAS,QAChB,KAAK,IAAIC,IAAU,CAC7B,aAAcA,EAAM,aACpB,cAAeA,EAAM,cACrB,KAAMA,EAAM,KACZ,MAAOA,EAAM,MACb,MAAOA,EAAM,MACb,SAAUA,EAAM,SAChB,UAAWA,EAAM,SAClB,EAAC,CACH,OAAQC,EAAO,CACd,MAAMA,CACP,CACH,CCRO,SAASC,EAAaC,EAAW,CACtCA,EAAU,UAAY,EACxB,CCPA,MAAMC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAU,IAAI,QAAQ,EAE7B,MAAMC,EAAW,IAAIC,EAAe,YAAY,EAEhDL,EAAW,iBAAiB,SAAU,MAAMM,GAAS,CACnDA,EAAM,eAAc,EACpB,MAAMC,EAAaN,EAAY,MAAM,KAAI,EACzC,GAAI,CAACM,EAAY,CACfC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDV,EAAaI,CAAO,EACpBA,EAAQ,YAAYC,CAAM,EAE1B,GAAI,CACF,MAAMM,EAAO,MAAMjB,EAAYe,CAAU,EACrCE,EAAK,SAAW,EAClBD,EAAS,KAAK,CACZ,MAAO,OACP,QACE,2EACF,SAAU,UAClB,CAAO,EAEDE,EAAaD,CAAI,CAEpB,OAAQZ,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CW,EAAS,MAAM,CACb,MAAO,QACP,QAAS,kDACT,SAAU,UAChB,CAAK,CACL,QAAY,CACRN,EAAQ,YAAYC,CAAM,EAC1BC,EAAS,QAAO,CACjB,CACH,CAAC,EAED,SAASM,EAAaC,EAAQ,CAC5BA,EAAO,QAAQf,GAAS,CACtB,MAAMgB,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,cAAc,EAEjC,MAAMC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,KAAOjB,EAAM,cAClBiB,EAAK,aAAa,gBAAiB,SAAS,EAE5C,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMlB,EAAM,aAChBkB,EAAI,IAAMlB,EAAM,KAEhBiB,EAAK,YAAYC,CAAG,EACpBF,EAAK,YAAYC,CAAI,EACrBX,EAAQ,YAAYU,CAAI,CAC5B,CAAG,CACH"}